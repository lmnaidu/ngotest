
 <!-- Admin Block starts--> 
 <div class="main-content-wrap sidenav-open d-flex flex-column pt-0"  *ngIf="userToken.activeUser === 'admin'">
            <!-- Pre Loader Strat  -->
            <div class='loadscreen' *ngIf="loading">

              <div class="loader spinner-bubble spinner-bubble-primary">
              </div>
          </div>
          <!-- Pre Loader end  -->
    <div class="breadcrumb justify-content-end">
        <ul>
            <li><a> Pledges</a></li>
           <li><a routerLink = "/dashboard/home" class = "underlineOnHover" title = "Go To Dashboard">Dashboard</a></li>
        
        </ul>
     </div>
    
    <!-- <div class="separator-breadcrumb border-top"></div> -->

    <div class="col-md-12  mt-2">
        <div class="card text-left">

            <div class="card-body">
                <h4 class="card-title mb-3">Members Pledges List </h4>

                
                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Member name</th>
                                <th scope="col">Pledge Info</th>
                                <th scope="col">Donation Frequency</th>
                                <th scope="col">Amount</th>
                                <th scope="col">Date</th>
                                <th scope="col">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor = "let list of PledgesList ; let i = index">
                                <th scope="row">{{i+1}}</th>
                                <td>{{list.memberName}}</td>
                                <td>{{list.pledgeInfo}}</td>
                                <td> <span class="badge badge-success">{{list.donationFrequency}}</span></td>
                                <td> {{list.amount}}</td>
                                <td> {{list.date}}</td>

                                <td>
                                    <a href="edit_member_list.html" class="text-success mr-2">
                                        <i class="nav-icon i-Pen-2 font-weight-bold"></i>
                                    </a>
                                    <a href="#" class="text-danger mr-2">
                                        <i class="nav-icon i-Eye font-weight-bold"></i>
                                    </a>
                                    <span (click)="openMDModal(addPledges)" class="pointer textsize-2rem mr-2"
                                        title="Add Pledges">
                                        +
                                    </span>

                                </td>
                            </tr>
                            <!-- <tr>
                                <th scope="row">2</th>
                                <td>Somauya batla</td>
                                <td> Constructing a building for old age people</td>
                                <td> Manoj Varma</td>
                                <td> 25-05-2020</td>
                                <td> Open</td>

                                <td>
                                    <a href="#" class="text-success mr-2">
                                        <i class="nav-icon i-Pen-2 font-weight-bold"></i>
                                    </a>
                                    <a href="#" class="text-danger mr-2">
                                        <i class="nav-icon i-Eye font-weight-bold"></i>
                                    </a>
                                    <span (click)="openMDModal(addPledges)" class="pointer textsize-2rem mr-2"
                                        title="Add Pledges">
                                        +
                                    </span>

                                </td>
                            </tr>
                            <tr>
                                <th scope="row">3</th>
                                <td>Kiran dhuvi</td>
                                <td>Adopt a school in Khammam</td>
                                <td> Akshay Rathod</td>
                                <td> 15-02-2019</td>
                                <td> Closed</td>


                                <td>
                                    <a href="#" class="text-success mr-2">
                                        <i class="nav-icon i-Pen-2 font-weight-bold"></i>
                                    </a>
                                    <a href="#" class="text-danger mr-2">
                                        <i class="nav-icon i-Eye font-weight-bold"></i>
                                    </a>
                                    <span (click)="openMDModal(addPledges)" class="pointer textsize-2rem mr-2"
                                        title="Add Pledges">
                                        +
                                    </span>

                                </td>
                            </tr> -->

                        </tbody>
                    </table>
                </div>


            </div>
        </div>
    </div>







</div>
<!-- Admin Block Ends--> 

<!-- Member Block starts--> 
<div class="container min-height"  *ngIf="userToken.activeUser === 'member'">
           <!-- Pre Loader Strat  -->
           <div class='loadscreen' *ngIf="loading">

            <div class="loader spinner-bubble spinner-bubble-primary">
            </div>
        </div>
        <!-- Pre Loader end  -->
    <div class="breadcrumb justify-content-end">
        <ul>
            <li><a> Pledges</a></li>
           <li><a routerLink = "/dashboard/home" class = "underlineOnHover" title = "Go To Dashboard">Dashboard</a></li>
        
        </ul>
     </div>
    <div class="separator-breadcrumb border-top"></div>

    <div class="col-md-12 ">
        <div class="card text-left">

            <div class="card-body">
                
                <h4 class="card-title mb-3"> My Pledges  <button class = "btn btn-primary" (click)="openMDModal(addPledges)" 
                    title="Add Pledges">
                    + Add
                </button></h4>

                <div class="table-responsive">
                    <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                
                                <th scope="col">Pledge Info</th>
                                <th scope="col">Donation Frequency</th>
                                <th scope="col">Amount</th>

                                <th scope="col">Date</th>

                                <th scope="col">Action</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor = "let list of myPledgesList; let i = index">
                                <th scope="row">{{i+1}}</th>
                                
                                <td>{{list.pledgeInfo}}</td>
                                <td><span class="badge badge-success">{{list.donationFrequency}}</span>  </td>
                                <td> {{list.amount}}</td>
                                <td> {{list.date}}</td>
                               

                                <td>
                                    <a href="edit_member_list.html" class="text-success mr-2">
                                        <i class="nav-icon i-Pen-2 font-weight-bold"></i>
                                    </a>
                                    <a href="#" class="text-danger mr-2">
                                        <i class="nav-icon i-Eye font-weight-bold"></i>
                                    </a>
                                   

                                </td>
                            </tr>

                        </tbody>
                    </table>
                </div>


            </div>
        </div>
    </div>


</div>
<!-- Member Block Ends--> 


   <!-- add Pledge Modal -->   
<ng-template #addPledgeModal let-modal>
  
   
        <div class="modal-header">
            <div class="row align-items-center">
                <div class="modal-logo ml-2">
                    <a href="dashboard/home">
                        <img src="{{orgdataRes.orgInfo[0].logo}}" alt="">
                    </a>
                </div>
                <div class= "ml-2">
                    <h4 class="modal-title" id="modal-basic-title ">Add Pledges</h4>
                </div>
              
               
            </div>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
                <span aria-hidden="true">&times;</span>
            </button>
        </div>
    
        <div class="modal-body overflow-y-scroll">
            <form class="mt-3">
                <div class="row">
                    <div class="col-md-7 form-group mb-3">
                        <label for="">Pledge Info<span class="text-danger">*</span></label>
                        <textarea class="form-control" id="msp_pledgeInfo" placeholder="Enter Pledge Details"></textarea>
                    </div>
                </div>
                <div class="row">
                    <div class="col-md-3 form-group mb-3">
                        <label for="">Recurring Donation Name<span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="msp_pledgeRecurringDonationName"
                            placeholder="Enter Recurring Donation Name">
    
                    </div>
                    <div class="col-md-3 form-group mb-3">
                        <label for="">Date Established</label>
                        <input type="date" class="form-control" id="msp_pledgeDateEstablished">
    
                    </div>
                    <div class="col-md-3 form-group mb-3">
                        <label for="">Organization</label>
                        <select class="form-control" id="msp_organization">
                            <option value="" disabled selected>Select the Organization</option>
                            <option value="">SMT</option>
                            <option value="">ESM</option>
                            <option value="">NGF</option>
                        </select>
    
                    </div>
                    <div class="col-md-3 form-group mb-3">
                        <label for="">Next Donation Date</label>
                        <input type="date" class="form-control" id="msp_nextDonationDate">
    
                    </div>
                </div>
                <div class="row">
    
                    
                    <div class="col-md-3 form-group mb-3">
                        <label for="">Contact</label>
                        <select class="form-control" id="msp_contact">
                            <option value="" disabled selected>Select Contact</option>
                            <option value="">Abhi Ram</option>
                            <option value="">John</option>
                            <option value="">Kelly</option>
                        </select>
    
                    </div>
                    <div class="col-md-3 form-group mb-3">
                        <label class="mt-4 pointer">
                            <input type="checkbox" name="msp_isUseLastDayOfMonthChecked" value="0">
                            <span class = "ml-2">Always Use Last Day of Month</span>
                            <span class="checkmark"></span>
                        </label>
    
                    </div>
                    <div class="col-md-3 form-group mb-3">
                        <label for="">Amount</label>
                        <input type="number" class="form-control" id="msp_amount" placeholder="Enter Emount">
    
                    </div>
                    <div class="col-md-3 form-group mb-3">
                        <label for="">Day Of Month </label>
                        <input type="date" class="form-control" id="msp_dayOfMonth">
    
                    </div>
                </div>
                <div class="row">
    
                    
                    <div class="col-md-3 form-group mb-3">
                        <label for="">Open Ended Status</label>
                        <select class="form-control" id="msp_contact">
                            <option value="" disabled selected>Select Contact</option>
                            <option value="">None</option>
                            <option value="">Open</option>
                            <option value="">Closed</option>
                        </select>
    
                    </div>
                    <div class="col-md-3 form-group mb-3">
                        <label for="">Last Donation Date </label>
                        <input type="date" class="form-control" id="msp_lastDonationDate">
    
                    </div>
    
                    <div class="col-md-3 form-group mb-3">
                        <label for="">Status Reason </label>
                        <select class="form-control" id="msp_statusReason">
                            <option value="" disabled selected>Select Reason</option>
                            <option value="">Card Expired</option>
                            <option value="">Deceased Donor</option>
                            <option value="">Financial Difficulty</option>
                            <option value="">No Longer</option>
                            <option value="">Interested</option>
                            <option value="">Unknown</option>
                        </select>
    
                    </div>
                    <div class="col-md-3 form-group mb-3">
                        <label for="">Installment Period </label>
                        <select class="form-control" id="msp_InstallmentPeriod">
                            <option value="" disabled selected>Select Installment Period</option>
                            <option value="">Monthly</option>
                            <option value="">Quartely</option>
                            <option value="">Yearly</option>
                            <option value="">Weekly</option>
                            <option value="">1st and 5th</option>
                            
                        </select>
    
                    </div>
                    
                    
                </div>
                <div class="row">
                    <div class="col-md-3 form-group mb-3">
                        <label for="">Number of Planned Installments </label>
                        <input type="number" class="form-control" id="msp_noOfPlannedInstallments">
    
                    </div>
    
                    <div class="col-md-3 form-group mb-3">
                        <label for="">Schedule Type </label>
                        <select class="form-control" id="msp_scheduleType">
                            <option value="" disabled selected>Select Schedule Type</option>
                            <option value="">Multiply By</option>
                            <option value="">Diveded By</option>
                           
                        </select>
    
                    </div>
                    <div class="col-md-3 form-group mb-3">
                        <label for="">Campaign </label>
                        <select class="form-control" id="msp_InstallmentPeriod">
                            <option value="" disabled selected>Select Campaign</option>
                            <option value="">One</option>
                            <option value="">Two</option>
                            
                            
                        </select>
    
                    </div>
                    <div class="col-md-3 form-group mb-3">
                        <label for=""> Total Paid Amount</label>
                        <input type="number" class="form-control" id="msp_totalPaidAmount">
    
                    </div>
                    
                    
                </div>
                <div class="row">
                   
    
                    <div class="col-md-3 form-group mb-3">
                        <label for=""> Number Of Paid Installments </label>
                        <input type="number" class="form-control" id="msp_noOfPaidInstallments">
                       
    
                    </div>
                    
                    
                    
                </div>
                <div class="row justify-content-end">
    
    
                    <div class="modal-footer">
                        <button type="submit" class="btn btn-primary">Submit</button>
                        <button type="button" class="btn btn-outline-danger"
                            (click)="modal.close('Cross click')">Cancel</button>
                    </div>
    
    
                </div>
            </form>
            <div class="container">
                <div class="flex-grow-1"></div>
                <div class="app-footer">
                
                    <div class="footer-bottom border-top pt-3 d-flex flex-column flex-sm-row align-items-center">
                        
                        <span class="flex-grow-1"></span>
                        <div class="d-flex align-items-center">
                            <img class="logo" src="{{orgdataRes.orgInfo[0].logo}}" alt="">
                            <div>
                                <p class="m-0">&copy; 2020 DNF</p>
                                <p class="m-0">All rights reserved</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
   


</ng-template>

<!-- add Pledge Modal  1 -->   
<ng-template #addPledges let-modal>
    <div class=" overflow-y-scroll">
       <div class="modal-header">
           <div class="row ">
               <div class="col-md-12 align-items-center  d-flex">
                   <div class="modal-logo ml-2 ">
                       <a href="dashboard/home">
                           <img src="{{orgdataRes.orgInfo[0].logo}}" alt="">
                       </a>
                       <span class="modal-title DNF-title" id="modal-basic-title "> {{orgdataRes.orgInfo[0].title}}</span>
                   </div>
               </div>
           </div>
           <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
               <span aria-hidden="true">&times;</span>
           </button>
   
       </div>
   
   
       <div class="modal-body ">
           <form [formGroup] = "addPledgesForm">
               <div>
                   <span class = "project-Title-donations pl-2">Add Pledge</span>
               </div>
 
                   <div class = "row justify-content-center align-items-center mt-2">
                    <div class="col-md-6 form-group ">
                        <label> Pledge Info </label>
                       <input type="text" class= "form-control" placeholder="Enter Pledge Info" formControlName = "pledgeInfo">

                    </div>
                       <div class="col-md-6 form-group">
                           <label> Amount</label>
                           <input type="number" placeholder="$ Amount" class="form-control" style = "width:150px !important" formControlName = "pledgeAmount">
   
                       </div>
                   </div>
                   <h5>Donation frequency123<sup> <span class = "bg-light badge text-white"  style = "cursor: alias;" title = "Recurring donations are the best way to give steady support" >i</span></sup></h5>

                   <div class="row  align-items-center mt-3">
                       
                        <label class="pointer ml-3">
                            <input type="radio" name="donationFrequency" value = "oneTime" formControlName = "donationFrequency" checked>
                            <span class="ml-2">One Time</span>
                        
                        </label>
                        <label class="pointer ml-3">
                            <input type="radio" name="donationFrequency" value = "monthly" formControlName = "donationFrequency">
                            <span class="ml-2">Monthly</span>
                        
                        </label>
                   </div>
                    <div class="row justify-content-center align-items-center mt-2">
                    Please specify a date you wish to have this procedure performed: 
                   
                </div>
                <div class="row justify-content-center align-items-center mt-2">
                   
                    <input type="date" name="" id="" class="form-control"style="width:150px !important" formControlName = "date">
                </div>
                
               

                <!-- <div class="row justify-content-center align-items-center d-flex mt-2">
                    <div class="col-md-6 ">
                        <p> Child Education</p>
                    </div>
                    <div class="col-md-4">
                
                        <input type="number" placeholder="Amount" class="form-control" style="width:150px !important">
                    </div>
                </div>
                <div class="row justify-content-center align-items-center mt-2">
                    <div class="col-md-6 form-group ">
                        <p> Constructing a building for old age people</p>
                    </div>
                    <div class="col-md-4 form-group ">
                
                        <input type="number" placeholder="Amount" class="form-control" style="width:150px !important">
                    </div>
                </div>
                <div class="row justify-content-center align-items-center mt-2">
                    <div class="col-md-6 form-group ">
                        <p> Adopt a school in Khammam</p>
                    </div>
                    <div class="col-md-4 form-group ">
                
                        <input type="number" placeholder="Amount" class="form-control" style="width:150px !important">
                    </div>
                </div>
                  

                <div class="row justify-content-center align-items-center mt-2">
                   <h5>Donation frequency <sup> <span class = "bg-light badge text-white"  style = "cursor: alias;" title = "Recurring donations are the best way to give steady support" >i</span></sup></h5>

                   <div class="col-md-12  justify-content-center align-items-center d-flex" >
                       <div class="col-md-12 justify-content-center d-flex ">
                        <label class="pointer ml-3">
                            <input type="radio" name="donationFrequency" value = "oneTime">
                            <span class="ml-2">One Time</span>
                        
                        </label>
                        <label class="pointer ml-3">
                            <input type="radio" name="donationFrequency" value = "monthly">
                            <span class="ml-2">Monthly</span>
                        
                        </label>
                       </div>
                       
                   </div>
                </div>
                <div class="row justify-content-center align-items-center mt-2">
                    Please specify a date you wish to have this procedure performed: 
                   
                </div>
                <div class="row justify-content-center align-items-center mt-2">
                   
                    <input type="date" name="" id="" class="form-control"style="width:150px !important">
                </div> -->
                   
           </form>
        </div>
           
           <div class="modal-footer">
                <button type= "submit" class = "btn btn-primary" (click) = "onAddPledgesSubmit(resultModal)" [disabled]="!addPledgesForm.valid"> Submit</button>
               <button type="button" class="btn btn-outline-danger" (click)="modal.dismiss('Cross click')">Cancel</button>
           </div>
      
       <div class="container p-0">
           <div class="flex-grow-1"></div>
           <div class="app-footer p-2">
           
               <div class="footer-bottom  d-flex flex-column flex-sm-row align-items-center">
                   
                   <span class="flex-grow-1"></span>
                   <div class="d-flex align-items-center">
                       <img class="logo" src="{{orgdataRes.orgInfo[0].logo}}" alt="">
                       <div>
                           <p class="m-0">&copy; 2020 DNF</p>
                           <p class="m-0">All rights reserved</p>
                       </div>
                   </div>
               </div>
           </div>
       </div>
   </div>
 </ng-template>

  <!-- result Modal -->
  <ng-template #resultModal let-modal>
    <div class="modal-header border-0 pt-2 pb-2 pr-2">
      
    </div>
    <div class="modal-body pt-0">
      <p class="text-success-message mb-0"><strong><span> Success! </span></strong> {{message}}
      </p>
    </div>
    <div class="modal-footer p-2">
       <!-- <button type="button" ngbAutofocus class="btn btn-primary btn-rounded" (click)="viewMembers()">Next</button> -->
     <button type="button" class="btn btn-outline-secondary btn-rounded" (click)="modal.dismiss('cancel')">Close</button> 
    </div>
 </ng-template>